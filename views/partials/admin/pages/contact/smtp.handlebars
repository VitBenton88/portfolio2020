<p><i>Correctly filling out the SMTP settings will enable user password reset functionality and email notifications for contact form submissions.</i></p>

<hr>

<form action="/updatesmtp" method="POST" class="mb-5" id="updatesmtp" autocomplete="off">
    <div class="form-group">
        <label for="smtpHost">Host</label>
        <input autocomplete="off" name="host" type="text" class="form-control" id="smtpHost" aria-describedby="hostHelp"
            placeholder="Enter host url" value="{{smtp.host}}">
        <small id="hostHelp" class="form-text text-muted">Host url of the mail server.</small>
    </div>
    <div class="form-group">
        <label for="port">Port</label>
        <input autocomplete="off" name="port" type="number" class="form-control" id="port" aria-describedby="portHelp"
            placeholder="Enter port number" value="{{smtp.port}}">
        <small id="portHelp" class="form-text text-muted">Host port.</small>
    </div>
    <div class="form-group">
        <div class="custom-control custom-switch">
            <input autocomplete="off" name="secure" type="checkbox" class="custom-control-input" id="secureSwitch"
                {{#if smtp.secure}} checked{{/if}}>
            <label class="custom-control-label" for="secureSwitch">Secure Connection (TLS)</label>
        </div>
    </div>
    <hr>
    <h5>Authentication</h5>
    <div class="form-group">
        <label for="smtpUser">User</label>
        <input autocomplete="off" name="user" type="text" class="form-control" id="smtpUser" aria-describedby="userHelp"
            placeholder="Enter user" value="{{smtp.user}}">
        <small id="userHelp" class="form-text text-muted">User for authentication.</small>
    </div>
    <div class="form-group">
        <label for="smtpPassword">Password</label>
        <input autocomplete="off" name="password" type="password" class="form-control" id="smtpPassword" aria-describedby="passwordHelp"
            placeholder="Enter password" value="{{smtp.password}}">
        <small id="passwordHelp" class="form-text text-muted">Password for authentication.</small>
    </div>
    <input name="_id" type="hidden" value="{{smtp._id}}">
    <button type="submit" class="btn btn-primary btn-lg mr-3">Update</button>
    <button type="button" class="btn btn-outline-info" id="verifySMTP">Verify</button>
</form>

<div class="smtp-notifications"></div>

<hr>

<form id="testsmtp" action="/testsmtp" method="POST" class="mb-3">
    <label for="emailTo">Test Email Recipient</label>
    <input name="emailTo" type="email" class="form-control" id="emailTo" aria-describedby="emailToHelp"
        placeholder="email@email.com ...">
    <small id="emailToHelp" class="form-text text-muted mb-3">Test email will be sent to this email address.</small>
    <button type="submit" class="btn btn-success">Send Test Email</button>
</form>